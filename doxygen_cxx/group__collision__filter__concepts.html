<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Drake: Collision Filter Concepts</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Drake
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__collision__filter__concepts.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Collision Filter Concepts<div class="ingroups"><a class="el" href="group__algorithms.html">Algorithms</a> &raquo; <a class="el" href="group__multibody.html">Multibody Dynamics</a> &raquo; <a class="el" href="group__collision__concepts.html">Collision Concepts (RigidBodyPlant only)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__collision__clique"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__collision__clique.html">Collision Cliques</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__collision__filter__group"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__collision__filter__group.html">Collision Filter Groups</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Collision filters are a purely <em>non-physical</em> concept. </p>
<p>They are about computational efficiency or accommodating models which rely on approximations of physical quantities which might otherwise interfere with a meaningful interpretation of the results of geometric computations.</p>
<p>For example, consider a robot arm. The components of the arm can consist of intricate surfaces. In general, the more complex a surface is, the more complex the algorithms are for evaluating properties of those surfaces. Rather than including the exact surface representation for the links in the robot arm, we replace them with simpler approximations. We may pay a cost with this simplification. The approximations are generally conservative and coarser than the actual robot arm surfaces. With these approximations, it is possible for two links in the arm to <em>report</em> collision even if the actual links wouldn't be in collision at the same configuration. This is <em>particularly</em> likely for links connected by a common joint. In this case, reported collisions would be meaningless and it would be best if we simply <em>filtered</em> them out.</p>
<p>Alternatively, consider using filters as an optimization process. We may only be focused on a single aspect of the robot, e.g., foot-step planning. As such, we may decide that the only contacts/collisions that are important are between the feet and the ground. An arm that swings and strikes the torso can safely be ignored. In this case, we would want to filter out all potential collisions except for those between feet and ground.</p>
<p>Drake provides a means for filtering collisions in cases such as these. In fact, Drake uses two different mechanisms to achieve this effect: <a class="el" href="group__collision__clique.html">Collision Cliques</a> and <a class="el" href="group__collision__filter__group.html">Collision Filter Groups</a>. The two representations are related but complementary.</p>
<p>Before looking at the details of the collision filter mechanisms, there are a few key principles to make note of.</p>
<h1><a class="anchor" id="collision_elements"></a>
Collision Elements</h1>
<p><em>Collision Elements</em> are the basis for performing geometric collision queries. Each body has <em>zero</em> or more collision elements associated with (or <em>fixed</em> to) it. If there is no collision element associated with a body, then that body is effectively invisible with respect to contact. On the other hand, a rigid body can have multiple collision elements &ndash; a common solution for representing complex real-world shapes with a union of computationally efficient, simple shapes.</p>
<p>A collision element is comprised of a geometric shape and a transform. The shape can be one of a number of supported primitives (e.g., sphere, box, triangular mesh, etc.).</p>
<p>The collision element's geometric shape is defined with respect to its own local frame <code>E</code> (e.g., a cylinder could be centered on <code>E</code>'s origin and the axis of the cylinder could be aligned with <code>E</code>'s y-axis). The body to which the collision element belongs has a body frame <code>B</code>. The collision element has a transform, <code>X_BE</code>, which positions the <code>E</code> frame (and, therefore, the geometric shape) with respect to the <code>B</code> frame.</p>
<p>Although collisions are defined strictly in terms of collision elements, it is often convenient to speak about colliding <em>bodies</em> <code>A</code> and <code>B</code> as shorthand for some collision element fixed to <code>A</code> colliding with some collision element fixed to <code>B</code>. Similarly, a model is a collection of bodies and we can speak of colliding <em>models</em> <code>M</code> and <code>N</code> as shorthand meaning that some body in <code>M</code> is colliding with some body in <code>N</code>.</p>
<p>NOTE: collision elements do not necessarily have anything to do with geometry used for other purposes, such as visualization or sensor simulation.</p>
<h1><a class="anchor" id="collision_queries"></a>
Collision Queries and Filtering</h1>
<p>Fundamentally, all collisions consist of <em>pairs</em> of collision elements. Therefore, collision filtering similarly involves <em>pairs</em> of collision elements. It is not meaningful to talk about filtering a single collision element. If the <em>intent</em> is to eliminate that single element from consideration in <em>any</em> collisions, we are implicitly referring to filtering out all <em>pairs</em> of collision elements which include that element. (Alternatively, one could simply omit the collision element in the first place.)</p>
<h1><a class="anchor" id="collision_graph"></a>
Collision Filters and Graphs</h1>
<p>It is worthwhile to think about collision filtering in a graph-theory context. We define a graph <code>G = {V, E}</code> where:</p>
<ul>
<li><code>V = {v₁, v₂, ..., vₙ}</code> is the set of graph vertices. There is one graph vertex for each collision element in the simulation.</li>
<li><code>E = {e₁, e₂, ..., eₘ}</code> is the set of graph edges. The edge eᵢⱼ exists if the pair of collision elements (vᵢ, vⱼ) is a <em>filtered</em> pair.</li>
</ul>
<p>This representation is particularly helpful in discussing <a class="el" href="group__collision__clique.html">Collision Cliques</a> and in comparing <a class="el" href="group__collision__clique.html">Collision Cliques</a> with <a class="el" href="group__collision__filter__group.html">Collision Filter Groups</a>.</p>
<p>Next topic: <a class="el" href="group__collision__clique.html">Collision Cliques</a> </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!--HTML footer for doxygen 1.8.13-->
<!--start footer part-->
<div id="nav-path" class="navpath"><!--id is needed for treeview function!-->
  <ul>
    <li class="footer">Generated by
    <a href="https://www.stack.nl/~dimitri/doxygen/">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a></li>
  </ul>
</div>
</body>
</html>
