<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Drake: Builder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Drake
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classdrake_1_1maliput_1_1rndf_1_1_builder.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdrake_1_1maliput_1_1rndf_1_1_builder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Builder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class to ease the construction of a <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_road_geometry.html" title="An api::RoadGeometry implementation for RNDF specification. ">RoadGeometry</a> from <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a> and <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_directed_waypoint.html" title="A container that holds the information needed by a Builder to construct a Lane from a sequence of ign...">DirectedWaypoint</a> objects.  
 <a href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#details">More...</a></p>

<p><code>#include &lt;drake/automotive/maliput/rndf/builder.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a23b278237677cfdde6f2a3f5e96b37dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a23b278237677cfdde6f2a3f5e96b37dc">Builder</a> (<a class="el" href="classdouble.html">double</a> linear_tolerance, <a class="el" href="classdouble.html">double</a> angular_tolerance)</td></tr>
<tr class="memdesc:a23b278237677cfdde6f2a3f5e96b37dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html" title="A class to ease the construction of a RoadGeometry from Connection and DirectedWaypoint objects...">Builder</a> which can be used to specify and assemble an RNDF implementation of an <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html" title="Abstract API for the geometry of a road network, including both the network topology and the geometry...">api::RoadGeometry</a>.  <a href="#a23b278237677cfdde6f2a3f5e96b37dc">More...</a><br /></td></tr>
<tr class="separator:a23b278237677cfdde6f2a3f5e96b37dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e147686458e21f273417ab485e71b9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a5e147686458e21f273417ab485e71b9c">SetBoundingBox</a> (const std::pair&lt; ignition::math::Vector3d, ignition::math::Vector3d &gt; &amp;bounding_box)</td></tr>
<tr class="memdesc:a5e147686458e21f273417ab485e71b9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the bounding box of the RNDF map.  <a href="#a5e147686458e21f273417ab485e71b9c">More...</a><br /></td></tr>
<tr class="separator:a5e147686458e21f273417ab485e71b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f86079bf96b08de8be27edd229bfb84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a1f86079bf96b08de8be27edd229bfb84">CreateSegmentConnections</a> (<a class="el" href="classint.html">int</a> segment_id, <a class="el" href="translator__test_8cc.html#aa8ec4e9f7594c29b258511283384c33b">std::vector</a>&lt; <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html">Connection</a> &gt; *connections)</td></tr>
<tr class="memdesc:a1f86079bf96b08de8be27edd229bfb84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populates the <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html" title="A class to ease the construction of a RoadGeometry from Connection and DirectedWaypoint objects...">Builder</a>'s inner connection map with the given <code>connections</code> representing an RNDF segment.  <a href="#a1f86079bf96b08de8be27edd229bfb84">More...</a><br /></td></tr>
<tr class="separator:a1f86079bf96b08de8be27edd229bfb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502cff5da472315753760d030f8a2750"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a502cff5da472315753760d030f8a2750">CreateConnectionsForZones</a> (<a class="el" href="classdouble.html">double</a> <a class="el" href="rgbd__camera__test_8cc.html#a2474a5474cbff19523a51eb1de01cda4">width</a>, <a class="el" href="translator__test_8cc.html#aa8ec4e9f7594c29b258511283384c33b">std::vector</a>&lt; <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_directed_waypoint.html">DirectedWaypoint</a> &gt; *perimeter_waypoints)</td></tr>
<tr class="memdesc:a502cff5da472315753760d030f8a2750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a collection of <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a> objects between every pair of entry and exit waypoints in <code>perimeter_waypoints</code>.  <a href="#a502cff5da472315753760d030f8a2750">More...</a><br /></td></tr>
<tr class="separator:a502cff5da472315753760d030f8a2750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3024d8c2fb72ab5449d8e96fdd999a06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a3024d8c2fb72ab5449d8e96fdd999a06">CreateConnection</a> (<a class="el" href="classdouble.html">double</a> <a class="el" href="rgbd__camera__test_8cc.html#a2474a5474cbff19523a51eb1de01cda4">width</a>, const ignition::rndf::UniqueId &amp;exit_id, const ignition::rndf::UniqueId &amp;entry_id)</td></tr>
<tr class="memdesc:a3024d8c2fb72ab5449d8e96fdd999a06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a connection between two RNDF lanes based on a pair of <code>exit</code> and <code>entry</code> ids that map to specific, existing waypoints.  <a href="#a3024d8c2fb72ab5449d8e96fdd999a06">More...</a><br /></td></tr>
<tr class="separator:a3024d8c2fb72ab5449d8e96fdd999a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03345cf5bb9523461fbc89a73dfed1a7"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; const <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html">api::RoadGeometry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a03345cf5bb9523461fbc89a73dfed1a7">Build</a> (const <a class="el" href="namespacedrake_1_1maliput_1_1api.html#a38fc077ab1aedc28346df61bf12c96a7">api::RoadGeometryId</a> &amp;<a class="el" href="multilane_2loader_8cc.html#afd0d68c6d31ff249f3ae8662162663c3">id</a>)</td></tr>
<tr class="memdesc:a03345cf5bb9523461fbc89a73dfed1a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds an <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html" title="Abstract API for the geometry of a road network, including both the network topology and the geometry...">api::RoadGeometry</a>.  <a href="#a03345cf5bb9523461fbc89a73dfed1a7">More...</a><br /></td></tr>
<tr class="separator:a03345cf5bb9523461fbc89a73dfed1a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Does not allow copy, move, or assignment</div></td></tr>
<tr class="memitem:a8b2459b3217ced071773c95fab6a188d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a8b2459b3217ced071773c95fab6a188d">Builder</a> (const <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;)=delete</td></tr>
<tr class="separator:a8b2459b3217ced071773c95fab6a188d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7975941ea4b908224b764de4aae8c33d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a7975941ea4b908224b764de4aae8c33d">operator=</a> (const <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;)=delete</td></tr>
<tr class="separator:a7975941ea4b908224b764de4aae8c33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a7b18b54348348252315fe885f1ec3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#ad2a7b18b54348348252315fe885f1ec3">Builder</a> (<a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ad2a7b18b54348348252315fe885f1ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a056bb0dca2d59785f156b08942a39cba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a056bb0dca2d59785f156b08942a39cba">operator=</a> (<a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a056bb0dca2d59785f156b08942a39cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class to ease the construction of a <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_road_geometry.html" title="An api::RoadGeometry implementation for RNDF specification. ">RoadGeometry</a> from <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a> and <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_directed_waypoint.html" title="A container that holds the information needed by a Builder to construct a Lane from a sequence of ign...">DirectedWaypoint</a> objects. </p>
<p>RNDF segments and lanes are mapped to Maliput's <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a> and <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_lane.html" title="Base class for the RNDF implementation of api::Lane. ">Lane</a> entities, respectively. This mapping is not straightforward as Maliput is based on analytical curve parameterizations while RNDF provides a sampled geometry based on waypoints. RNDF waypoints are thus used as control points in a cubic spline interpolation that results in SplineLanes. RNDF lanes' direction is implied by RNDF waypoint IDs (<code>segment_num.lane_num.waypoint_num</code>) which is captured by the interpolation and reflected in DirectedWaypoints. These DirectedWaypoints are grouped in Connections, which describe not only RNDF lanes but also the connections between pairs of exit and entry RNDF waypoints. During the build process, interpolated waypoints are added to these Connections so as to keep their distribution akin to a grid (and thus enable index-based operations).</p>
<p>Since lanes in an RNDF segment may flow in different directions, segment connections are also grouped by their directions relative to the first connection found in the collection. An arbitrary point outside the bounding box of the road geometry is selected to be a "center of rotation" and the sum of all the DirectedWaypoints "momentums" (with normalized tangents) is computed. It must be said that the "momentum" equation is used to derive connection direction, but it bears no physical meaning. Since all the waypoints lay in the \( z = 0 \) plane, the "momentum" vector will only contain a non-zero z coordinate value. The sign of the "momentum"'s z coordinate will be taken as a reference to define the sense of flow. For all other connections, the "momentum" is computed and compared against the sign of the reference.</p>
<p>RNDF zones also do not have a direct representation in Maliput either. To model zones, fake connections are added between every pair of entry and exit waypoints in a zone. The directions of these waypoints are set to head towards the centroid of all the zone perimeter waypoints. There's currently no support for RNDF zones' parking spots.</p>
<p>The resulting <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_road_geometry.html" title="An api::RoadGeometry implementation for RNDF specification. ">RoadGeometry</a> presents the following naming for its composed entities:</p>
<ul>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_lane.html" title="Base class for the RNDF implementation of api::Lane. ">Lane</a> naming: "l:$1-$2", where<ol type="1">
<li>RNDF exit waypoint ID.</li>
<li>RNDF entry waypoint ID.</li>
</ol>
</li>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a> naming: "s:$1-$2-$3", where<ol type="1">
<li>RNDF segment ID.</li>
<li>Direction-based grouping index.</li>
<li>RNDF segment piece index (in between every 2 waypoints).</li>
</ol>
</li>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_junction.html" title="An api::Junction implementation for RNDF. ">Junction</a> naming: "j:$1-$2-$3", where<ol type="1">
<li>RNDF segment ID.</li>
<li>Direction-based grouping index.</li>
<li>RNDF segment piece index (in between every 2 waypoints).</li>
</ol>
</li>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_branch_point.html" title="An implementation of api::BranchPoint for RNDF. ">BranchPoint</a> naming: "bp:$1", where<ol type="1">
<li>Index in <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_road_geometry.html" title="An api::RoadGeometry implementation for RNDF specification. ">RoadGeometry</a>'s inner collection.</li>
</ol>
</li>
</ul>
<p>An example of how this is achieved is depicted in the following example. Note that '+' denotes RNDF waypoints, 'x' denotes invalid waypoints and 'o' denotes interpolated waypoints. Also '|' denotes <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a> boundaries.</p>
<pre>
         1.1.1                   1.1.2
         +-----------------------+            &lt;---- <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a>: 1.1.1-1.1.2
1.2.1                                       1.2.2
+-------------------------------------------+ &lt;---- <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a>: 1.2.1-1.2.2
         1.3.1                   1.3.2
         +-----------------------+            &lt;---- <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a>: 1.3.1-1.3.2
</pre><p>Mapping the above waypoints to <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_spline_lane.html" title="Specialization of drake::maliput::rndf::Lane with a spline curve as its reference path...">SplineLane</a> and <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a> objects will be done by the <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html" title="A class to ease the construction of a RoadGeometry from Connection and DirectedWaypoint objects...">Builder</a>. In the end, we end up with something like:</p>
<pre>
|        |1.1.1                  |1.1.2     |
x--------+-----------------------+----------x &lt;---- <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a>: 1.1.1-1.1.2
|1.2.1   |1.2.3                  |1.2.4     |1.2.2
+--------o-----------------------o----------+ &lt;---- <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a>: 1.2.1-1.2.2
|        |1.3.1                  |1.3.2     |
x--------+-----------------------+----------x &lt;---- <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a>: 1.3.1-1.3.2
</pre><p>Those new waypoints that appear make possible the concept of Maliput <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a> as a surface that holds all the trajectories (represented by Maliput Lanes). At the building stage, we can now match waypoints across lanes using an index-based algorithm, a pair of valid consecutive waypoints in a <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a> are used to create a <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_spline_lane.html" title="Specialization of drake::maliput::rndf::Lane with a spline curve as its reference path...">SplineLane</a>. At the same time, we should create those Lanes inside the same segment, which is not difficult to do using the index approach. To sum up, <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html" title="A class to ease the construction of a RoadGeometry from Connection and DirectedWaypoint objects...">Builder</a> will create the following:</p>
<ul>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a> 1-0-0:<ul>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_lane.html" title="Base class for the RNDF implementation of api::Lane. ">Lane</a> 1.2.1-1.2.3</li>
</ul>
</li>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a> 1-0-1:<ul>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_lane.html" title="Base class for the RNDF implementation of api::Lane. ">Lane</a> 1.3.1-1.3.2</li>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_lane.html" title="Base class for the RNDF implementation of api::Lane. ">Lane</a> 1.2.3-1.2.4</li>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_lane.html" title="Base class for the RNDF implementation of api::Lane. ">Lane</a> 1.1.1-1.1.2</li>
</ul>
</li>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a> 1-0-2:<ul>
<li><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_lane.html" title="Base class for the RNDF implementation of api::Lane. ">Lane</a> 1.2.4-1.2.2</li>
</ul>
</li>
</ul>
<p>General workflow with this class should be:</p>
<ol type="1">
<li>Create a <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html" title="A class to ease the construction of a RoadGeometry from Connection and DirectedWaypoint objects...">Builder</a>.</li>
<li>Call <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a5e147686458e21f273417ab485e71b9c" title="Sets the bounding box of the RNDF map. ">SetBoundingBox()</a>.</li>
<li>Call <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a1f86079bf96b08de8be27edd229bfb84" title="Populates the Builder&#39;s inner connection map with the given connections representing an RNDF segment...">CreateSegmentConnections()</a> for each RNDF segment.</li>
<li>Call <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a502cff5da472315753760d030f8a2750" title="Creates a collection of Connection objects between every pair of entry and exit waypoints in perimete...">CreateConnectionsForZones()</a> for each RNDF zone.</li>
<li>Call <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a3024d8c2fb72ab5449d8e96fdd999a06" title="Creates a connection between two RNDF lanes based on a pair of exit and entry ids that map to specifi...">CreateConnection()</a> for each pair of entry-exit waypoints between RNDF lanes and zone perimeters (actually connecting their fake inner lanes to the outer real ones).</li>
<li>Call <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html#a03345cf5bb9523461fbc89a73dfed1a7" title="Builds an api::RoadGeometry. ">Build()</a> to get the built <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html" title="Abstract API for the geometry of a road network, including both the network topology and the geometry...">api::RoadGeometry</a>. </li>
</ol>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8b2459b3217ced071773c95fab6a188d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2459b3217ced071773c95fab6a188d">&#9670;&nbsp;</a></span>Builder() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2a7b18b54348348252315fe885f1ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a7b18b54348348252315fe885f1ec3">&#9670;&nbsp;</a></span>Builder() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a23b278237677cfdde6f2a3f5e96b37dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b278237677cfdde6f2a3f5e96b37dc">&#9670;&nbsp;</a></span>Builder() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a>&#160;</td>
          <td class="paramname"><em>linear_tolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a>&#160;</td>
          <td class="paramname"><em>angular_tolerance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html" title="A class to ease the construction of a RoadGeometry from Connection and DirectedWaypoint objects...">Builder</a> which can be used to specify and assemble an RNDF implementation of an <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html" title="Abstract API for the geometry of a road network, including both the network topology and the geometry...">api::RoadGeometry</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">linear_tolerance</td><td>Linear tolerance for <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_road_geometry.html" title="An api::RoadGeometry implementation for RNDF specification. ">RoadGeometry</a> construction. </td></tr>
    <tr><td class="paramname">angular_tolerance</td><td>Angular tolerance for <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_road_geometry.html" title="An api::RoadGeometry implementation for RNDF specification. ">RoadGeometry</a> construction. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a03345cf5bb9523461fbc89a73dfed1a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03345cf5bb9523461fbc89a73dfed1a7">&#9670;&nbsp;</a></span>Build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; const <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html">api::RoadGeometry</a> &gt; Build </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedrake_1_1maliput_1_1api.html#a38fc077ab1aedc28346df61bf12c96a7">api::RoadGeometryId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds an <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html" title="Abstract API for the geometry of a road network, including both the network topology and the geometry...">api::RoadGeometry</a>. </p>
<p>All the groups of connections are traversed. A <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_junction.html" title="An api::Junction implementation for RNDF. ">Junction</a> with a single <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a> is created per group, and for each connection in that group, a <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_lane.html" title="Base class for the RNDF implementation of api::Lane. ">Lane</a> is added to the <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_segment.html" title="An api::Segment implementation for RNDF. ">Segment</a>. BranchPoints are updated as needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>ID of the <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html" title="Abstract API for the geometry of a road network, including both the network topology and the geometry...">api::RoadGeometry</a> to be built. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The built <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html" title="Abstract API for the geometry of a road network, including both the network topology and the geometry...">api::RoadGeometry</a>. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>When the built <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_road_geometry.html" title="An api::RoadGeometry implementation for RNDF specification. ">RoadGeometry</a> does not satisfy Maliput roads' constraints (see <a class="el" href="classdrake_1_1maliput_1_1api_1_1_road_geometry.html#a5063335837b3825eb592bd88229d27a9" title="Verifies certain invariants guaranteed by the API. ">api::RoadGeometry::CheckInvariants()</a>). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3024d8c2fb72ab5449d8e96fdd999a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3024d8c2fb72ab5449d8e96fdd999a06">&#9670;&nbsp;</a></span>CreateConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CreateConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ignition::rndf::UniqueId &amp;&#160;</td>
          <td class="paramname"><em>exit_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ignition::rndf::UniqueId &amp;&#160;</td>
          <td class="paramname"><em>entry_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a connection between two RNDF lanes based on a pair of <code>exit</code> and <code>entry</code> ids that map to specific, existing waypoints. </p>
<p>This is helpful when building intersections. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>The connection's width. </td></tr>
    <tr><td class="paramname">exit_id</td><td>The start waypoint ID of the connection. </td></tr>
    <tr><td class="paramname">entry_id</td><td>The end waypoint ID of the connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>When neither <code>exit_id</code> nor <code>entry_id</code> are found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a502cff5da472315753760d030f8a2750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a502cff5da472315753760d030f8a2750">&#9670;&nbsp;</a></span>CreateConnectionsForZones()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CreateConnectionsForZones </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="translator__test_8cc.html#aa8ec4e9f7594c29b258511283384c33b">std::vector</a>&lt; <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_directed_waypoint.html">DirectedWaypoint</a> &gt; *&#160;</td>
          <td class="paramname"><em>perimeter_waypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a collection of <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html" title="A container that holds the information needed by a Builder to construct one or more Lane objects...">Connection</a> objects between every pair of entry and exit waypoints in <code>perimeter_waypoints</code>. </p>
<p>RNDF defines zones as areas where free-path driving is allowed. Since Maliput does not cover this concept, and to avoid having dead-end lanes, every pair of entry and exit waypoints is connected. These waypoints' directions are set to head towards the centroid of all <code>perimeter_waypoints</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>The width of this zone's inner connections (and thus the fake inner lanes' lane bounds). </td></tr>
    <tr><td class="paramname">perimeter_waypoints</td><td>A collection of <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_directed_waypoint.html" title="A container that holds the information needed by a Builder to construct a Lane from a sequence of ign...">DirectedWaypoint</a> objects describing the zone's perimeter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>When <code>perimeter_waypoints</code> is a nullptr. </td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>When <code>perimeter_waypoints</code> is an empty collection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f86079bf96b08de8be27edd229bfb84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f86079bf96b08de8be27edd229bfb84">&#9670;&nbsp;</a></span>CreateSegmentConnections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CreateSegmentConnections </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>segment_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="translator__test_8cc.html#aa8ec4e9f7594c29b258511283384c33b">std::vector</a>&lt; <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_connection.html">Connection</a> &gt; *&#160;</td>
          <td class="paramname"><em>connections</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Populates the <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html" title="A class to ease the construction of a RoadGeometry from Connection and DirectedWaypoint objects...">Builder</a>'s inner connection map with the given <code>connections</code> representing an RNDF segment. </p>
<p>To do this, the <code>connections'</code> waypoints are first used to derive a geometry. Then, these <code>connections</code> are grouped based on relative direction using the first connection found as a reference. Once grouped, extra waypoints are added to each of them on a per group basis as necessary to ensure a grid-like distribution of waypoints. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">segment_id</td><td>The RNDF segment ID. </td></tr>
    <tr><td class="paramname">connections</td><td>A collection of Connections representing each RNDF lane in the segment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>When <code>connections</code> is a nullptr. </td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>When <code>connections</code> is an empty collection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a056bb0dca2d59785f156b08942a39cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a056bb0dca2d59785f156b08942a39cba">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7975941ea4b908224b764de4aae8c33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7975941ea4b908224b764de4aae8c33d">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5e147686458e21f273417ab485e71b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e147686458e21f273417ab485e71b9c">&#9670;&nbsp;</a></span>SetBoundingBox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SetBoundingBox </td>
          <td>(</td>
          <td class="paramtype">const std::pair&lt; ignition::math::Vector3d, ignition::math::Vector3d &gt; &amp;&#160;</td>
          <td class="paramname"><em>bounding_box</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the bounding box of the RNDF map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bounding_box</td><td>The lower left and upper right corners' position pair for the bounding box. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Bounding box definition is kept in 3D space for the sake of generality, even though there's currently no support for nonplanar RNDF geometries and, most of the time, the z-component of the given corners will be zero. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>drake/automotive/maliput/rndf/<a class="el" href="rndf_2builder_8h.html">builder.h</a></li>
<li>drake/automotive/maliput/rndf/<a class="el" href="rndf_2builder_8cc.html">builder.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!--HTML footer for doxygen 1.8.13-->
<!--start footer part-->
<div id="nav-path" class="navpath"><!--id is needed for treeview function!-->
  <ul>
    <li class="navelem"><a class="el" href="namespacedrake.html">drake</a></li><li class="navelem"><a class="el" href="namespacedrake_1_1maliput.html">maliput</a></li><li class="navelem"><a class="el" href="namespacedrake_1_1maliput_1_1rndf.html">rndf</a></li><li class="navelem"><a class="el" href="classdrake_1_1maliput_1_1rndf_1_1_builder.html">Builder</a></li>
    <li class="footer">Generated by
    <a href="https://www.stack.nl/~dimitri/doxygen/">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a></li>
  </ul>
</div>
</body>
</html>
