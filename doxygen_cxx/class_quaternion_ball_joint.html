<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Drake: QuaternionBallJoint Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Drake
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_quaternion_ball_joint.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_quaternion_ball_joint-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QuaternionBallJoint Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines a 3 dof tree joint (mobilizer) that uses a unit quaternion as the generalized orientation coordinates.  
 <a href="class_quaternion_ball_joint.html#details">More...</a></p>

<p><code>#include &lt;drake/attic/multibody/joints/quaternion_ball_joint.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a46431e8ff2cebb98d8362a478f8451fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a46431e8ff2cebb98d8362a478f8451fe">QuaternionBallJoint</a> (const std::string &amp;<a class="el" href="geometry__base__test_8cc.html#a9b45b3e13bd9167aab02e17e08916231">name</a>, const Eigen::Isometry3d &amp;transform_to_parent_body)</td></tr>
<tr class="separator:a46431e8ff2cebb98d8362a478f8451fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfaa3537df010652959311b7ccf473a8"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#acfaa3537df010652959311b7ccf473a8">~QuaternionBallJoint</a> ()</td></tr>
<tr class="separator:acfaa3537df010652959311b7ccf473a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b49b04c4495c337befc04ef5e0959e"><td class="memTemplParams" colspan="2">template&lt;typename DerivedQ &gt; </td></tr>
<tr class="memitem:a29b49b04c4495c337befc04ef5e0959e"><td class="memTemplItemLeft" align="right" valign="top">Eigen::Transform&lt; typename DerivedQ::Scalar, 3, Eigen::Isometry &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a29b49b04c4495c337befc04ef5e0959e">jointTransform</a> (const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;q) const</td></tr>
<tr class="memdesc:a29b49b04c4495c337befc04ef5e0959e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the transform <code>X_PB(q)</code> where P is the parent body and B the child body connected by this joint.  <a href="#a29b49b04c4495c337befc04ef5e0959e">More...</a><br /></td></tr>
<tr class="separator:a29b49b04c4495c337befc04ef5e0959e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcdfcd8f90217052b5f7d6a0a1159612"><td class="memTemplParams" colspan="2">template&lt;typename DerivedQ , typename DerivedMS &gt; </td></tr>
<tr class="memitem:abcdfcd8f90217052b5f7d6a0a1159612"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#abcdfcd8f90217052b5f7d6a0a1159612">motionSubspace</a> (const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;q, Eigen::MatrixBase&lt; DerivedMS &gt; &amp;motion_subspace, typename <a class="el" href="structdrake_1_1math_1_1_gradient.html">drake::math::Gradient</a>&lt; DerivedMS, Eigen::Dynamic &gt;::<a class="el" href="multilane_2loader_8cc.html#adb5798caab72849ba8da861ddc3acccd">type</a> *dmotion_subspace=nullptr) const</td></tr>
<tr class="separator:abcdfcd8f90217052b5f7d6a0a1159612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68323eaa7e1b91198b984f17b0a3ebfc"><td class="memTemplParams" colspan="2">template&lt;typename DerivedQ , typename DerivedV &gt; </td></tr>
<tr class="memitem:a68323eaa7e1b91198b984f17b0a3ebfc"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a68323eaa7e1b91198b984f17b0a3ebfc">motionSubspaceDotTimesV</a> (const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;q, const Eigen::MatrixBase&lt; DerivedV &gt; &amp;v, Eigen::Matrix&lt; typename DerivedQ::Scalar, 6, 1 &gt; &amp;motion_subspace_dot_times_v, typename <a class="el" href="structdrake_1_1math_1_1_gradient.html">drake::math::Gradient</a>&lt; Eigen::Matrix&lt; typename DerivedQ::Scalar, 6, 1 &gt;, Eigen::Dynamic &gt;::<a class="el" href="multilane_2loader_8cc.html#adb5798caab72849ba8da861ddc3acccd">type</a> *dmotion_subspace_dot_times_vdq=nullptr, typename <a class="el" href="structdrake_1_1math_1_1_gradient.html">drake::math::Gradient</a>&lt; Eigen::Matrix&lt; typename DerivedQ::Scalar, 6, 1 &gt;, Eigen::Dynamic &gt;::<a class="el" href="multilane_2loader_8cc.html#adb5798caab72849ba8da861ddc3acccd">type</a> *dmotion_subspace_dot_times_vdv=nullptr) const</td></tr>
<tr class="separator:a68323eaa7e1b91198b984f17b0a3ebfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783b64658dd1faf9f9d53973d1f11d4c"><td class="memTemplParams" colspan="2">template&lt;typename DerivedQ &gt; </td></tr>
<tr class="memitem:a783b64658dd1faf9f9d53973d1f11d4c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a783b64658dd1faf9f9d53973d1f11d4c">qdot2v</a> (const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;q, Eigen::Matrix&lt; typename DerivedQ::Scalar, Eigen::Dynamic, Eigen::Dynamic, 0, <a class="el" href="class_drake_joint.html#a0ee57f5c17049f0def4a5162715759f1">DrakeJoint::MAX_NUM_VELOCITIES</a>, <a class="el" href="class_drake_joint.html#a2b1190f02a1f8667613b663949e11509">DrakeJoint::MAX_NUM_POSITIONS</a> &gt; &amp;qdot_to_v, Eigen::Matrix&lt; typename DerivedQ::Scalar, Eigen::Dynamic, Eigen::Dynamic &gt; *dqdot_to_v) const</td></tr>
<tr class="memdesc:a783b64658dd1faf9f9d53973d1f11d4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">For the QuaternionBallJoint, computes the matrix <code>N⁺(q)</code>∊ℝ³ˣ⁴ that maps generalized coordinate time derivatives qdot to generalized velocities v, with <code>v=N⁺ qdot</code>.  <a href="#a783b64658dd1faf9f9d53973d1f11d4c">More...</a><br /></td></tr>
<tr class="separator:a783b64658dd1faf9f9d53973d1f11d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a9855d98b94feb69dce34422b913fac"><td class="memTemplParams" colspan="2">template&lt;typename DerivedQ &gt; </td></tr>
<tr class="memitem:a9a9855d98b94feb69dce34422b913fac"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a9a9855d98b94feb69dce34422b913fac">v2qdot</a> (const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;q, Eigen::Matrix&lt; typename DerivedQ::Scalar, Eigen::Dynamic, Eigen::Dynamic, 0, <a class="el" href="class_drake_joint.html#a2b1190f02a1f8667613b663949e11509">DrakeJoint::MAX_NUM_POSITIONS</a>, <a class="el" href="class_drake_joint.html#a0ee57f5c17049f0def4a5162715759f1">DrakeJoint::MAX_NUM_VELOCITIES</a> &gt; &amp;v_to_qdot, Eigen::Matrix&lt; typename DerivedQ::Scalar, Eigen::Dynamic, Eigen::Dynamic &gt; *dv_to_qdot) const</td></tr>
<tr class="memdesc:a9a9855d98b94feb69dce34422b913fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">For the QuaternionBallJoint, computes the matrix <code>N(q)</code>∊ℝ⁴ˣ³ that maps generalized velocities v to generalized coordinate time derivatives qdot, with <code>qdot=N v</code>.  <a href="#a9a9855d98b94feb69dce34422b913fac">More...</a><br /></td></tr>
<tr class="separator:a9a9855d98b94feb69dce34422b913fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af33f9ca7396ffe9536f1f22c87a66dfd"><td class="memTemplParams" colspan="2">template&lt;typename DerivedV &gt; </td></tr>
<tr class="memitem:af33f9ca7396ffe9536f1f22c87a66dfd"><td class="memTemplItemLeft" align="right" valign="top">Eigen::Matrix&lt; typename DerivedV::Scalar, Eigen::Dynamic, 1 &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#af33f9ca7396ffe9536f1f22c87a66dfd">frictionTorque</a> (const Eigen::MatrixBase&lt; DerivedV &gt; &amp;v) const</td></tr>
<tr class="separator:af33f9ca7396ffe9536f1f22c87a66dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f4475702cfd00b32b715c98872085d"><td class="memTemplParams" colspan="2">template&lt;typename DerivedQ &gt; </td></tr>
<tr class="memitem:a11f4475702cfd00b32b715c98872085d"><td class="memTemplItemLeft" align="right" valign="top">Eigen::Matrix&lt; typename DerivedQ::Scalar, Eigen::Dynamic, 1 &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a11f4475702cfd00b32b715c98872085d">SpringTorque</a> (const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;q) const</td></tr>
<tr class="separator:a11f4475702cfd00b32b715c98872085d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b99324a0abb5baab21adabd9e0e7317"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a1b99324a0abb5baab21adabd9e0e7317">is_floating</a> () const override</td></tr>
<tr class="separator:a1b99324a0abb5baab21adabd9e0e7317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d21a7643c5134852688ba78d1c56ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#af8d21a7643c5134852688ba78d1c56ed">isFloating</a> () const override</td></tr>
<tr class="separator:af8d21a7643c5134852688ba78d1c56ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874155b453bcdc7716b00218aef2986b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a874155b453bcdc7716b00218aef2986b">get_position_name</a> (<a class="el" href="classint.html">int</a> index) const override</td></tr>
<tr class="separator:a874155b453bcdc7716b00218aef2986b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33e0d9037b36b05f00f69ea068b536f6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a33e0d9037b36b05f00f69ea068b536f6">get_velocity_name</a> (<a class="el" href="classint.html">int</a> index) const override</td></tr>
<tr class="separator:a33e0d9037b36b05f00f69ea068b536f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a609a238f5be58c4236325d82ca071b13"><td class="memItemLeft" align="right" valign="top">Eigen::VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a609a238f5be58c4236325d82ca071b13">zeroConfiguration</a> () const override</td></tr>
<tr class="separator:a609a238f5be58c4236325d82ca071b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8a29a5709870548860156e0d768d8d"><td class="memItemLeft" align="right" valign="top">Eigen::VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a1b8a29a5709870548860156e0d768d8d">randomConfiguration</a> (std::default_random_engine &amp;generator) const override</td></tr>
<tr class="separator:a1b8a29a5709870548860156e0d768d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87fb3eec27660a5fae24d5b54c46fd46"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a87fb3eec27660a5fae24d5b54c46fd46">getPositionName</a> (<a class="el" href="classint.html">int</a> index) const override</td></tr>
<tr class="separator:a87fb3eec27660a5fae24d5b54c46fd46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee884118b61ffc11c5a9c516043e4ee"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a9ee884118b61ffc11c5a9c516043e4ee">getVelocityName</a> (<a class="el" href="classint.html">int</a> index) const override</td></tr>
<tr class="separator:a9ee884118b61ffc11c5a9c516043e4ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af40ab0640212156c5eeb64993d4d678f"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_drake_joint.html">DrakeJoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#af40ab0640212156c5eeb64993d4d678f">DoClone</a> () const final</td></tr>
<tr class="separator:af40ab0640212156c5eeb64993d4d678f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f3dabe82f4c672d1eacd99c0e4f14d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quaternion_ball_joint.html#a87f3dabe82f4c672d1eacd99c0e4f14d">DoInitializeClone</a> (<a class="el" href="class_drake_joint.html">DrakeJoint</a> *) const final</td></tr>
<tr class="separator:a87f3dabe82f4c672d1eacd99c0e4f14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines a 3 dof tree joint (mobilizer) that uses a unit quaternion as the generalized orientation coordinates. </p>
<h3>Generalized coordinates (configuration variables)</h3>
<p>There are 4 generalized coordinates q, organized as a quaternion. A tree joint connects an inboard (parent) body P to an outboard (child) body B. In those terms this joint's generalized coordinates are: </p><pre>
         ------------- T
    q = |    q_PB     |
         -------------  4×1
          qw qx qy qz
</pre><p> where <code>q_PB</code> is the quaternion that is equivalent to the rotation matrix <code>R_PB</code>. The second line shows the 4 generalized coordinate scalars in order. Note that <code>qw</code> is the scalar part of the quaternion while <code>[qx qy qz]</code> is the vector part. See <a class="el" href="group__multibody__spatial__pose.html">Spatial Pose and Transform</a> for more information about this notation.</p>
<p>The time derivatives qdot of the generalized coordinates, <em>not</em> to be confused with the generalized velocity variables v, are: </p><pre>
         ------------- T
 qdot = |   qdot_PB   |
         -------------  4×1
</pre><p> where <code>qdot_PB = d/dt q_PB</code> is the time derivative of the quaternion.</p>
<h3>Generalized velocity</h3>
<p>There are 3 generalized velocity variables v, organized as follows: </p><pre>
         --------- T
    v = | ω_PB_B  |
         --------- 3×1
</pre><p> where <code>ω_PB_B</code> is B's angular velocity in P, expressed in B.</p>
<p>Note that The time derivatives of the generalized velocities are: </p><pre>
         --------- T
 vdot = | α_PB_B  |
         --------- 3×1
</pre><p> where <code>α_PB_B</code> is B's angular acceleration in P, expressed in B. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a46431e8ff2cebb98d8362a478f8451fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46431e8ff2cebb98d8362a478f8451fe">&#9670;&nbsp;</a></span>QuaternionBallJoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quaternion_ball_joint.html">QuaternionBallJoint</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Isometry3d &amp;&#160;</td>
          <td class="paramname"><em>transform_to_parent_body</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acfaa3537df010652959311b7ccf473a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfaa3537df010652959311b7ccf473a8">&#9670;&nbsp;</a></span>~QuaternionBallJoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="class_quaternion_ball_joint.html">QuaternionBallJoint</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af40ab0640212156c5eeb64993d4d678f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af40ab0640212156c5eeb64993d4d678f">&#9670;&nbsp;</a></span>DoClone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="class_drake_joint.html">DrakeJoint</a> &gt; DoClone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a87f3dabe82f4c672d1eacd99c0e4f14d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87f3dabe82f4c672d1eacd99c0e4f14d">&#9670;&nbsp;</a></span>DoInitializeClone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DoInitializeClone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_drake_joint.html">DrakeJoint</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">final</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af33f9ca7396ffe9536f1f22c87a66dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af33f9ca7396ffe9536f1f22c87a66dfd">&#9670;&nbsp;</a></span>frictionTorque()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Matrix&lt;typename DerivedV::Scalar, Eigen::Dynamic, 1&gt; frictionTorque </td>
          <td>(</td>
          <td class="paramtype">const Eigen::MatrixBase&lt; DerivedV &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a874155b453bcdc7716b00218aef2986b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874155b453bcdc7716b00218aef2986b">&#9670;&nbsp;</a></span>get_position_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string get_position_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a33e0d9037b36b05f00f69ea068b536f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33e0d9037b36b05f00f69ea068b536f6">&#9670;&nbsp;</a></span>get_velocity_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string get_velocity_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a87fb3eec27660a5fae24d5b54c46fd46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87fb3eec27660a5fae24d5b54c46fd46">&#9670;&nbsp;</a></span>getPositionName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string getPositionName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ee884118b61ffc11c5a9c516043e4ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ee884118b61ffc11c5a9c516043e4ee">&#9670;&nbsp;</a></span>getVelocityName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string getVelocityName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1b99324a0abb5baab21adabd9e0e7317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b99324a0abb5baab21adabd9e0e7317">&#9670;&nbsp;</a></span>is_floating()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> is_floating </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af8d21a7643c5134852688ba78d1c56ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8d21a7643c5134852688ba78d1c56ed">&#9670;&nbsp;</a></span>isFloating()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> isFloating </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a29b49b04c4495c337befc04ef5e0959e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b49b04c4495c337befc04ef5e0959e">&#9670;&nbsp;</a></span>jointTransform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Transform&lt;typename DerivedQ::Scalar, 3, Eigen::Isometry&gt; jointTransform </td>
          <td>(</td>
          <td class="paramtype">const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the transform <code>X_PB(q)</code> where P is the parent body and B the child body connected by this joint. </p>

</div>
</div>
<a id="abcdfcd8f90217052b5f7d6a0a1159612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcdfcd8f90217052b5f7d6a0a1159612">&#9670;&nbsp;</a></span>motionSubspace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void motionSubspace </td>
          <td>(</td>
          <td class="paramtype">const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixBase&lt; DerivedMS &gt; &amp;&#160;</td>
          <td class="paramname"><em>motion_subspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="structdrake_1_1math_1_1_gradient.html">drake::math::Gradient</a>&lt; DerivedMS, Eigen::Dynamic &gt;::<a class="el" href="multilane_2loader_8cc.html#adb5798caab72849ba8da861ddc3acccd">type</a> *&#160;</td>
          <td class="paramname"><em>dmotion_subspace</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a68323eaa7e1b91198b984f17b0a3ebfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68323eaa7e1b91198b984f17b0a3ebfc">&#9670;&nbsp;</a></span>motionSubspaceDotTimesV()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void motionSubspaceDotTimesV </td>
          <td>(</td>
          <td class="paramtype">const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::MatrixBase&lt; DerivedV &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Matrix&lt; typename DerivedQ::Scalar, 6, 1 &gt; &amp;&#160;</td>
          <td class="paramname"><em>motion_subspace_dot_times_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="structdrake_1_1math_1_1_gradient.html">drake::math::Gradient</a>&lt; Eigen::Matrix&lt; typename DerivedQ::Scalar, 6, 1 &gt;, Eigen::Dynamic &gt;::<a class="el" href="multilane_2loader_8cc.html#adb5798caab72849ba8da861ddc3acccd">type</a> *&#160;</td>
          <td class="paramname"><em>dmotion_subspace_dot_times_vdq</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="structdrake_1_1math_1_1_gradient.html">drake::math::Gradient</a>&lt; Eigen::Matrix&lt; typename DerivedQ::Scalar, 6, 1 &gt;, Eigen::Dynamic &gt;::<a class="el" href="multilane_2loader_8cc.html#adb5798caab72849ba8da861ddc3acccd">type</a> *&#160;</td>
          <td class="paramname"><em>dmotion_subspace_dot_times_vdv</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a783b64658dd1faf9f9d53973d1f11d4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a783b64658dd1faf9f9d53973d1f11d4c">&#9670;&nbsp;</a></span>qdot2v()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void qdot2v </td>
          <td>(</td>
          <td class="paramtype">const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Matrix&lt; typename DerivedQ::Scalar, Eigen::Dynamic, Eigen::Dynamic, 0, <a class="el" href="class_drake_joint.html#a0ee57f5c17049f0def4a5162715759f1">DrakeJoint::MAX_NUM_VELOCITIES</a>, <a class="el" href="class_drake_joint.html#a2b1190f02a1f8667613b663949e11509">DrakeJoint::MAX_NUM_POSITIONS</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>qdot_to_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Matrix&lt; typename DerivedQ::Scalar, Eigen::Dynamic, Eigen::Dynamic &gt; *&#160;</td>
          <td class="paramname"><em>dqdot_to_v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For the QuaternionBallJoint, computes the matrix <code>N⁺(q)</code>∊ℝ³ˣ⁴ that maps generalized coordinate time derivatives qdot to generalized velocities v, with <code>v=N⁺ qdot</code>. </p>
<p>The name signifies that <code>N⁺=pinv(N)</code> where <code>N(q)</code> is the matrix that maps v to qdot with <code>qdot=N v</code> and <code>pinv()</code> is the pseudoinverse (in this case the left pseudoinverse).</p>
<p>See the class description for precise definitions of the generalized coordinates and velocities. Because the velocities are not the time derivatives of the coordinates, rotations and translations are reversed, and different expressed-in frames are employed, <code>N⁺</code> has the following elaborate structure: </p><pre>
       -----------
 N⁺ = | Nq⁺_PB_B  |
       ----------- 3×4
</pre><p> where <code>Nq_PB_B</code> is the matrix that maps angular velocity <code>ω_PB_B</code> to quaternion time derivative <code>qdot_PB</code> such that <code>qdot_PB=Nq_PB_B*ω_PB_B</code>, and <code>Nq⁺_PB_B</code> is the left pseudoinverse of <code>Nq_PB_B</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q</td><td>The 4-element generalized configuration variable. See the class documentation for details. See warning below regarding the effect if the contained quaternion is not normalized. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">qdot_to_v</td><td>The matrix <code>N⁺</code>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dqdot_to_v</td><td>Unused, must be <code>nullptr</code> on entry.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Let <code>s</code> be the norm of the quaternion in <code>q</code>. If <code>s ≠ 1</code>, then we will calculate <code>s*Nq⁺_PB_B</code> so the resulting angular velocity vector will be scaled by <code>s</code> as well. This method neither performs a normalization check nor normalizes the quaternion orientation parameters. Implications for integration techniques must be carefully considered. </dd></dl>

</div>
</div>
<a id="a1b8a29a5709870548860156e0d768d8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b8a29a5709870548860156e0d768d8d">&#9670;&nbsp;</a></span>randomConfiguration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VectorXd randomConfiguration </td>
          <td>(</td>
          <td class="paramtype">std::default_random_engine &amp;&#160;</td>
          <td class="paramname"><em>generator</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a11f4475702cfd00b32b715c98872085d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11f4475702cfd00b32b715c98872085d">&#9670;&nbsp;</a></span>SpringTorque()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Matrix&lt;typename DerivedQ::Scalar, Eigen::Dynamic, 1&gt; SpringTorque </td>
          <td>(</td>
          <td class="paramtype">const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a9855d98b94feb69dce34422b913fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a9855d98b94feb69dce34422b913fac">&#9670;&nbsp;</a></span>v2qdot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v2qdot </td>
          <td>(</td>
          <td class="paramtype">const Eigen::MatrixBase&lt; DerivedQ &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Matrix&lt; typename DerivedQ::Scalar, Eigen::Dynamic, Eigen::Dynamic, 0, <a class="el" href="class_drake_joint.html#a2b1190f02a1f8667613b663949e11509">DrakeJoint::MAX_NUM_POSITIONS</a>, <a class="el" href="class_drake_joint.html#a0ee57f5c17049f0def4a5162715759f1">DrakeJoint::MAX_NUM_VELOCITIES</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>v_to_qdot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Matrix&lt; typename DerivedQ::Scalar, Eigen::Dynamic, Eigen::Dynamic &gt; *&#160;</td>
          <td class="paramname"><em>dv_to_qdot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For the QuaternionBallJoint, computes the matrix <code>N(q)</code>∊ℝ⁴ˣ³ that maps generalized velocities v to generalized coordinate time derivatives qdot, with <code>qdot=N v</code>. </p>
<p>See the class description for precise definitions of the generalized coordinates and velocities. Because the velocities are not the time derivatives of the coordinates, rotations and translations are reversed, and different expressed-in frames are employed, <code>N</code> has the following elaborate structure: </p><pre>
       -------
  N = |Nq_PB_B|
       ------- 4×3
</pre><p> where <code>Nq_PB_B</code> is the matrix that maps angular velocity <code>ω_PB_B</code> to quaternion time derivative <code>qdot_PB</code> such that <code>qdot_PB=Nq_PB_B*ω_PB_B</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q</td><td>The 4-element generalized configuration variable. See the class documentation for details. See warning below regarding the effect if the contained quaternion is not normalized. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">v_to_qdot</td><td>The matrix <code>N</code>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dv_to_qdot</td><td>Unused, must be <code>nullptr</code> on entry.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Let <code>s</code> be the norm of the quaternion in <code>q</code>. If <code>s ≠ 1</code>, then we will calculate <code>s*Nq_PB_B</code> so the resulting quaternion derivative will be scaled by <code>s</code> as well. This method neither performs a normalization check nor normalizes the quaternion orientation parameters. Implications for integration techniques must be carefully considered. </dd></dl>

</div>
</div>
<a id="a609a238f5be58c4236325d82ca071b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a609a238f5be58c4236325d82ca071b13">&#9670;&nbsp;</a></span>zeroConfiguration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VectorXd zeroConfiguration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>drake/attic/multibody/joints/<a class="el" href="quaternion__ball__joint_8h.html">quaternion_ball_joint.h</a></li>
<li>drake/attic/multibody/joints/<a class="el" href="quaternion__ball__joint_8cc.html">quaternion_ball_joint.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!--HTML footer for doxygen 1.8.13-->
<!--start footer part-->
<div id="nav-path" class="navpath"><!--id is needed for treeview function!-->
  <ul>
    <li class="navelem"><a class="el" href="class_quaternion_ball_joint.html">QuaternionBallJoint</a></li>
    <li class="footer">Generated by
    <a href="https://www.stack.nl/~dimitri/doxygen/">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a></li>
  </ul>
</div>
</body>
</html>
